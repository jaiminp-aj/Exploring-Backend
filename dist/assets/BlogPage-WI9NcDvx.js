import{j as e,S as r,b as A,p as H,a as O,r as n,u as $,h as v,o as i,q as p,e as K,s as z,c as G,d as J}from"./index-CLYoa9F8.js";import{s as j,B as Q,p as P,S as W}from"./sliderImages-DTtcok_f.js";import{p as I,a as X}from"./angle-next-DKixHvgl.js";function Y(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"what-islam-img",style:{marginBottom:"2rem"},children:e.jsx(r,{variant:"rectangular",height:"400px",animation:"wave"})}),e.jsxs("div",{className:"what-islam-content",children:[e.jsx(r,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(r,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(r,{variant:"text",width:"90%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(r,{variant:"text",width:"95%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(r,{variant:"text",width:"85%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(r,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}})]})]})}function se(){const{language:l}=A(),{slug:m}=H(),C=O(),[U,f]=n.useState([]),[s,_]=n.useState(null),[L,R]=n.useState([]),[y,g]=n.useState(!0);n.useEffect(()=>{(async()=>{if(!m){g(!1);return}try{g(!0);const o=await z(m,l);if(o){_(o);const a=o.categoryId||void 0,[x,k]=await Promise.allSettled([G(l,!0,a).catch(d=>(console.error("Failed to load banners:",d),[])),a?J(l,!0,a,void 0,!1).catch(d=>(console.error("Failed to load related blogs:",d),[])):Promise.resolve([])]);if(x.status==="fulfilled"&&x.value.length>0?f(x.value):f([{desktopImage:j.bannerBasicSlide,mobileImage:j.bannerBasicSlideM,title:v(o.title,l)||"Blog Post",subtitle:""}]),k.status==="fulfilled"&&a){const F=k.value.filter(q=>q._id!==o._id).slice(0,5);R(F)}}}catch(o){console.error("Failed to load blog:",o)}finally{g(!1)}})()},[m,l]);const{openVideo:c}=$(),D=t=>{const{style:o,onClick:a}=t;return e.jsx("button",{type:"button",className:"slick-prev pull-left slick-arrow",style:{...o},onClick:a,"aria-label":"Previous slide",children:e.jsx("img",{src:I,alt:"Previous slide"})})},E=t=>{const{style:o,onClick:a}=t;return e.jsx("button",{type:"button",className:"slick-next pull-right slick-arrow",style:{...o},onClick:a,"aria-label":"Next slide",children:e.jsx("img",{src:X,alt:"Next slide"})})},M={dots:!1,infinite:!0,arrows:!0,speed:300,slidesToShow:3,slidesToScroll:3,prevArrow:e.jsx(D,{}),nextArrow:e.jsx(E,{}),responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,arrows:!0}}]},b=v(s?.title,l),V=s?.contentType==="Blog Post"?i(s.content,l):i(s?.excerpt,l),w=p(V),B=s?.videoUrl||(s?.contentType==="Video"?i(s?.content,l):""),S=s?.contentType==="Blog Post"?i(s.bottomLeftContent,l):"",u=S?p(S):"",N=s?.contentType==="Blog Post"?i(s.bottomRightContent,l):"",h=N?p(N):"",T=L.map(t=>({image:t.featuredImageUrl||j.basicsImg,title:v(t.title,l),videoUrl:t.videoUrl||"",contentType:t.contentType,slug:K(t.slug,l)}));return e.jsxs(e.Fragment,{children:[e.jsx(Q,{slides:U}),e.jsx("div",{className:"what-islam-wrap basic-top",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"head",children:[e.jsx("h2",{children:b}),e.jsxs("a",{href:"#",className:"back-btn",onClick:t=>{t.preventDefault(),window.history.back()},children:[e.jsx("img",{src:I,className:"img-fluid",alt:""})," Back"]})]}),e.jsxs("div",{className:"what-islam-row quran_row",children:[y?e.jsx(Y,{}):s?.featuredImageUrl&&e.jsxs("div",{className:"what-islam-img",children:[e.jsx("img",{src:s?.featuredImageUrl,className:"img-fluid",alt:b}),B&&e.jsx("a",{className:"play-btn",onClick:t=>{t.preventDefault(),c(B)},children:e.jsx("img",{src:P,className:"img-fluid",alt:""})})]}),!y&&e.jsx("div",{className:"what-islam-content",children:w&&e.jsx("div",{dangerouslySetInnerHTML:{__html:w}})})]}),s?.contentType==="Blog Post"&&(u||h)&&e.jsxs("div",{className:"quran_row_content",children:[u&&e.jsx("div",{dangerouslySetInnerHTML:{__html:u}}),h&&e.jsx("div",{dangerouslySetInnerHTML:{__html:h}})]})]})}),T.length>0&&e.jsx("div",{className:"more-video-wrap",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"MORE VIDEOS LIKE THIS"}),e.jsx("div",{className:"video-slide1",children:e.jsx(W,{...M,children:T.map((t,o)=>e.jsx("div",{className:"item",children:e.jsxs("div",{className:"single-box",style:{backgroundImage:`url("${t.image}")`,cursor:"pointer"},onClick:a=>{a.preventDefault(),a.stopPropagation(),t.contentType==="Blog Post"&&t.slug?C(`/blog/${t.slug}`):(t.contentType==="Video"&&t.videoUrl||t.videoUrl)&&c(t.videoUrl)},children:[e.jsx("img",{src:t.image,className:"img-fluid",alt:t.title,style:{display:"none"}}),e.jsxs("div",{className:"overlay",children:[e.jsx("h4",{children:t.title}),t.contentType==="Video"&&t.videoUrl&&e.jsx("a",{href:"#",className:"play-btn",tabIndex:0,onClick:a=>{a.preventDefault(),a.stopPropagation(),t.videoUrl&&c(t.videoUrl)},children:e.jsx("img",{src:P,className:"img-fluid",alt:"Play"})})]})]})},o))})})]})}),e.jsx("div",{id:"quick-start-container"})]})}export{se as default};
