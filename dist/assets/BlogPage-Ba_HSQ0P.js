import{j as e,S as o,b as D,p as F,r as n,u as q,h as x,o as r,q as v,s as H,c as V,d as O}from"./index-fouMj4lv.js";import{s as f,B as K,p as k,S as $}from"./sliderImages-DIWTsK7k.js";import{p as z}from"./angle-prev-A-6TKDrA.js";function A(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"what-islam-img",style:{marginBottom:"2rem"},children:e.jsx(o,{variant:"rectangular",height:"400px",animation:"wave"})}),e.jsxs("div",{className:"what-islam-content",children:[e.jsx(o,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(o,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(o,{variant:"text",width:"90%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(o,{variant:"text",width:"95%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(o,{variant:"text",width:"85%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(o,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}})]})]})}function W(){const{language:a}=D(),{slug:d}=F(),[C,j]=n.useState([]),[s,P]=n.useState(null),[_,L]=n.useState([]),[p,m]=n.useState(!0);n.useEffect(()=>{(async()=>{if(!d){m(!1);return}try{m(!0);const l=await H(d,a);if(l){P(l);const i=l.categoryId||void 0,[u,I]=await Promise.allSettled([V(a,!0,i).catch(c=>(console.error("Failed to load banners:",c),[])),i?O(a,!0,i,void 0,!1).catch(c=>(console.error("Failed to load related blogs:",c),[])):Promise.resolve([])]);if(u.status==="fulfilled"&&u.value.length>0?j(u.value):j([{desktopImage:f.bannerBasicSlide,mobileImage:f.bannerBasicSlideM,title:x(l.title,a)||"Blog Post",subtitle:""}]),I.status==="fulfilled"&&i){const E=I.value.filter(M=>M._id!==l._id).slice(0,5);L(E)}}}catch(l){console.error("Failed to load blog:",l)}finally{m(!1)}})()},[d,a]);const U={dots:!0,infinite:!1,arrows:!1,speed:300,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},{openVideo:B}=q(),b=x(s?.title,a),R=s?.contentType==="Blog Post"?r(s.content,a):r(s?.excerpt,a),w=v(R),y=s?.videoUrl||(s?.contentType==="Video"?r(s?.content,a):""),S=s?.contentType==="Blog Post"?r(s.bottomLeftContent,a):"",g=S?v(S):"",N=s?.contentType==="Blog Post"?r(s.bottomRightContent,a):"",h=N?v(N):"",T=_.map(t=>({image:t.featuredImageUrl||f.basicsImg,title:x(t.title,a),videoUrl:t.videoUrl||""}));return e.jsxs(e.Fragment,{children:[e.jsx(K,{slides:C}),e.jsx("div",{className:"what-islam-wrap basic-top",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"head",children:[e.jsx("h2",{children:b}),e.jsxs("a",{href:"#",className:"back-btn",onClick:t=>{t.preventDefault(),window.history.back()},children:[e.jsx("img",{src:z,className:"img-fluid",alt:""})," Back"]})]}),e.jsxs("div",{className:"what-islam-row quran_row",children:[p?e.jsx(A,{}):s?.featuredImageUrl&&e.jsxs("div",{className:"what-islam-img",children:[e.jsx("img",{src:s?.featuredImageUrl,className:"img-fluid",alt:b}),y&&e.jsx("a",{className:"play-btn",onClick:t=>{t.preventDefault(),B(y)},children:e.jsx("img",{src:k,className:"img-fluid",alt:""})})]}),!p&&e.jsx("div",{className:"what-islam-content",children:w&&e.jsx("div",{dangerouslySetInnerHTML:{__html:w}})})]}),s?.contentType==="Blog Post"&&(g||h)&&e.jsxs("div",{className:"quran_row_content",children:[g&&e.jsx("div",{dangerouslySetInnerHTML:{__html:g}}),h&&e.jsx("div",{dangerouslySetInnerHTML:{__html:h}})]})]})}),T.length>0&&e.jsx("div",{className:"more-video-wrap",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"MORE VIDEOS LIKE THIS"}),e.jsx("div",{className:"video-slide",children:e.jsx($,{...U,children:T.map((t,l)=>e.jsx("div",{className:"item",children:e.jsxs("div",{className:"single-box",style:{backgroundImage:`url("${t.image}")`},children:[e.jsx("img",{src:t.image,className:"img-fluid",alt:t.title,style:{display:"none"}}),e.jsxs("div",{className:"overlay",children:[e.jsx("h4",{children:t.title}),t.videoUrl&&e.jsx("a",{href:"#",className:"play-btn",tabIndex:0,onClick:i=>{i.preventDefault(),B(t.videoUrl)},children:e.jsx("img",{src:k,className:"img-fluid",alt:"Play"})})]})]})},l))})})]})}),e.jsx("div",{id:"quick-start-container"})]})}export{W as default};
