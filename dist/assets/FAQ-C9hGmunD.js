import{j as e,S as y,b as q,r as l,k as A,l as B,m as I,f as N,g as U,c as S}from"./index-CLYoa9F8.js";import{B as M,s as o}from"./sliderImages-DTtcok_f.js";function C(){return e.jsx("div",{className:"faq-wrap basic-top",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"faq_head",style:{marginBottom:"10rem"},children:e.jsx(y,{variant:"text",width:"60%",height:"1.2rem"})}),e.jsx("div",{className:"faq",children:e.jsx("ul",{className:"accordion",children:[1,2,3,4,5].map(r=>e.jsx("li",{style:{marginBottom:"1rem",padding:"1rem",border:"1px solid #e0e0e0",borderRadius:"4px"},children:e.jsx(y,{variant:"text",width:"100%",height:"1rem",style:{marginBottom:"0.5rem"}})},r))})})]})})}function D(){const{language:r}=q(),[h,F]=l.useState([]),[m,x]=l.useState(!0),[p,j]=l.useState(null),[k,b]=l.useState(""),[Q,d]=l.useState([]),s=l.useRef(null);return l.useEffect(()=>{let t=!0;return(async()=>{x(!0),j(null);try{const i=await I(r,!0);t&&F(i);const c=await N(r,!1,!0),g=(n,w)=>{for(const f of n){if(f.linkUrl===w||f.linkUrl.toLowerCase().includes("faq"))return f;if(f.children&&f.children.length>0){const v=g(f.children,w);if(v)return v}}},u=g(c,"/faq")||c.find(n=>n.linkUrl==="/faq"||n.linkUrl==="/faqs"||n.linkUrl.toLowerCase().includes("faq"));if(u?.pageContent&&t){const n=U(u.pageContent,r);b(n)}else t&&b("");if(u?._id)try{const n=await S(r,!0,u._id);t&&(n.length>0?d(n):d([{desktopImage:o.bannerBasicSlide,mobileImage:o.bannerBasicSlideM,title:"FAQs",subtitle:"",videoUrl:""}]))}catch(n){console.error("Failed to load banners:",n),t&&d([{desktopImage:o.bannerBasicSlide,mobileImage:o.bannerBasicSlideM,title:"FAQs",subtitle:"",videoUrl:""}])}else try{const n=await S(r,!0,void 0);t&&(n.length>0?d(n):d([{desktopImage:o.bannerBasicSlide,mobileImage:o.bannerBasicSlideM,title:"FAQs",subtitle:"",videoUrl:""}]))}catch(n){console.error("Failed to load banners:",n),t&&d([{desktopImage:o.bannerBasicSlide,mobileImage:o.bannerBasicSlideM,title:"FAQs",subtitle:"",videoUrl:""}])}}catch(i){console.error("Failed to load data:",i),t&&j("Failed to load FAQs. Please try again later.")}finally{t&&x(!1)}})(),()=>{t=!1}},[r]),l.useEffect(()=>{if(!s.current||h.length===0||m)return;const t=()=>{const a=window.$||window.jQuery;if(!a||!s.current)return;const i=location.hash,c=a(s.current).find("li a"),g=i&&c.filter(`[href="${i}"]`).length>0;i&&!g&&history.replaceState(null,"",location.pathname+location.search),c.on("click",function(u){return u.preventDefault(),!1}),a(s.current).accordion(),i&&!g&&setTimeout(()=>{history.replaceState(null,"",location.pathname+location.search+i)},0),setTimeout(()=>{a(s.current).find("li a").eq(0).trigger("click")},100)};if(window.$||window.jQuery)t();else{const a=setInterval(()=>{(window.$||window.jQuery)&&(clearInterval(a),t())},50);setTimeout(()=>{clearInterval(a)},5e3)}return()=>{const a=window.$||window.jQuery;if(a&&s.current)try{a(s.current).accordion("destroy")}catch{}}},[h,m]),e.jsxs(e.Fragment,{children:[e.jsx(M,{slides:Q}),m?e.jsx(C,{}):e.jsx("div",{className:"faq-wrap basic-top",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"faq_head",children:[e.jsx("h2",{children:"Have a question?"}),e.jsx("p",{children:k||"Find answers to frequently asked questions below."})]}),e.jsxs("div",{className:"faq",children:[p&&e.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"red"},children:e.jsx("p",{children:p})}),!m&&!p&&h.length===0&&e.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:e.jsx("p",{children:"No FAQs available at the moment."})}),!m&&!p&&h.length>0&&e.jsx("ul",{className:"accordion",ref:s,children:h.map(t=>{const a=A(t.title,r),i=B(t.description,r);return e.jsxs("li",{children:[e.jsx("a",{href:"#",onClick:c=>c.preventDefault(),children:a||"Untitled FAQ"}),e.jsx("div",{className:"answer",children:e.jsx("p",{children:i||"No description available."})})]},t._id)})})]})]})}),e.jsx("div",{id:"quick-start-container"})]})}export{D as default};
