import{j as e,S as C,b as T,n as P,r as o,a as w,u as F,f as E,g as L,c as V,d as _,o as k,e as R,h as $}from"./index-p224z7YV.js";import{B as q,p as D,s as u}from"./sliderImages-CDZKbGZY.js";import{B as H}from"./BlogNotFound-Cq6H8IJg.js";function W(){return e.jsx("div",{className:"the-basics-row",children:[1,2,3,4,5,6].map(a=>e.jsx("div",{className:"item",children:e.jsx("div",{className:"single-box-loader",style:{position:"relative",overflow:"hidden"},children:e.jsx(C,{variant:"rectangular",style:{width:"100%",borderRadius:"0"}})})},a))})}function J(){const{language:a}=T(),m=P(),[v,h]=o.useState([]),[c,f]=o.useState(void 0),[B,p]=o.useState(""),[S,g]=o.useState(""),[b,x]=o.useState([]),[I,y]=o.useState(!0),U=w();o.useEffect(()=>{(async()=>{try{const t=await E(a,!0,!0),r=(s,l)=>{for(const n of s){if(n.linkUrl===l||n.linkUrl===m.pathname)return{id:n._id,menuItem:n};if(n.linkUrl&&m.pathname.startsWith(n.linkUrl)&&n.linkUrl!=="/")return{id:n._id,menuItem:n};if(n.children&&n.children.length>0){const j=r(n.children,l);if(j)return j}}},d=r(t,m.pathname);if(d)if(f(d.id),d.menuItem?.pageContent){const s=L(d.menuItem.pageContent,a);g(s)}else g("");else f(void 0),g("")}catch(t){console.error("Failed to find menu item:",t),f(void 0),g("")}})()},[a,m.pathname]),o.useEffect(()=>{c&&(async()=>{try{const t=await V(a,!0,c);t.length>0?h(t):h([{desktopImage:u.bannerBasicSlide,mobileImage:u.bannerBasicSlideM,title:"The <br /> Basics",subtitle:""}])}catch(t){console.error("Failed to load banners:",t),h([{desktopImage:u.bannerBasicSlide,mobileImage:u.bannerBasicSlideM,title:"The <br /> Basics",subtitle:""}])}finally{}})()},[a,c]),o.useEffect(()=>{(async()=>{if(!c){y(!1);return}y(!0);try{const t=await _(a,!0,c,void 0,!0);if(t.length>0){const r=t.filter(s=>s.contentType==="Blog Post");if(r.length>0){const s=r[0],l=k(s.content,a);p(l)}const d=t.map(s=>{let l=s.videoUrl||"";if(!l&&s.content&&s.contentType==="Video"){const N=k(s.content,a).match(/https?:\/\/[^\s<>"{}|\\^`\[\]]+/i);N&&(l=N[0])}const n=R(s.slug,a);return{image:s.featuredImageUrl||u.basicsImg,title:$(s.title,a),videoUrl:l,contentType:s.contentType,slug:n}});x(d)}else p(""),x([])}catch(t){console.error("Failed to load blogs:",t),p(""),x([])}finally{y(!1)}})()},[a,c]);const{openVideo:M}=F();return console.log(v),e.jsxs(e.Fragment,{children:[e.jsx(q,{slides:v}),e.jsx("div",{className:"the-basics-wrap basic-top",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"head",children:I?e.jsx(e.Fragment,{children:e.jsx(C,{})}):S?e.jsx("h2",{children:S}):B?e.jsx("h2",{dangerouslySetInnerHTML:{__html:B}}):e.jsx(e.Fragment,{})}),I?e.jsx(W,{}):b.length>0?e.jsx("div",{className:"the-basics-row",children:b.map((i,t)=>e.jsx("div",{className:"item",onClick:r=>{i.contentType==="Blog Post"&&i.slug?U(`/blog/${i.slug}`):(r.preventDefault(),r.stopPropagation(),M(i.videoUrl))},style:{cursor:"pointer"},children:e.jsxs("div",{className:"single-box",style:{backgroundImage:`url("${i.image}")`},children:[e.jsx("img",{src:i.image,className:"img-fluid",alt:i.title,style:{display:"none"}}),e.jsxs("div",{className:"overlay",children:[e.jsx("h4",{children:i.title}),i.contentType==="Video"&&i.videoUrl&&e.jsx("a",{href:"#",className:"play-btn",tabIndex:0,children:e.jsx("img",{src:D,className:"img-fluid",alt:"Play"})})]})]})},t))}):e.jsx(H,{})]})}),e.jsx("div",{id:"quick-start-container"})]})}export{J as default};
