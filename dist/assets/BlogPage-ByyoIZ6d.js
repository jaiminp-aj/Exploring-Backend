import{j as e,S as i,b as E,p as D,r as o,u as F,h as g,o as h,q as R,s as L,c as M,d as V}from"./index-p224z7YV.js";import{s as u,B as _,p as w,S as q}from"./sliderImages-CDZKbGZY.js";import{p as H}from"./angle-prev-A-6TKDrA.js";function O(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"what-islam-img",style:{marginBottom:"2rem"},children:e.jsx(i,{variant:"rectangular",height:"400px",animation:"wave"})}),e.jsxs("div",{className:"what-islam-content",children:[e.jsx(i,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(i,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(i,{variant:"text",width:"90%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(i,{variant:"text",width:"95%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(i,{variant:"text",width:"85%",height:"1.2rem",style:{marginBottom:"1rem"}}),e.jsx(i,{variant:"text",width:"100%",height:"1.2rem",style:{marginBottom:"1rem"}})]})]})}function A(){const{language:t}=E(),{slug:c}=D(),[y,x]=o.useState([]),[a,N]=o.useState(null),[I,T]=o.useState([]),[v,d]=o.useState(!0);o.useEffect(()=>{(async()=>{if(!c){d(!1);return}try{d(!0);const l=await L(c,t);if(l){N(l);const r=l.categoryId||void 0,[m,S]=await Promise.allSettled([M(t,!0,r).catch(n=>(console.error("Failed to load banners:",n),[])),r?V(t,!0,r,void 0,!1).catch(n=>(console.error("Failed to load related blogs:",n),[])):Promise.resolve([])]);if(m.status==="fulfilled"&&m.value.length>0?x(m.value):x([{desktopImage:u.bannerBasicSlide,mobileImage:u.bannerBasicSlideM,title:g(l.title,t)||"Blog Post",subtitle:""}]),S.status==="fulfilled"&&r){const U=S.value.filter(C=>C._id!==l._id).slice(0,5);T(U)}}}catch(l){console.error("Failed to load blog:",l)}finally{d(!1)}})()},[c,t]);const k={dots:!0,infinite:!1,arrows:!1,speed:300,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},{openVideo:f}=F(),j=g(a?.title,t),P=a?.contentType==="Blog Post"?h(a.content,t):h(a?.excerpt,t),p=R(P),B=a?.videoUrl||(a?.contentType==="Video"?h(a?.content,t):""),b=I.map(s=>({image:s.featuredImageUrl||u.basicsImg,title:g(s.title,t),videoUrl:s.videoUrl||""}));return e.jsxs(e.Fragment,{children:[e.jsx(_,{slides:y}),e.jsx("div",{className:"what-islam-wrap basic-top",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"head",children:[e.jsx("h2",{children:j}),e.jsxs("a",{href:"#",className:"back-btn",onClick:s=>{s.preventDefault(),window.history.back()},children:[e.jsx("img",{src:H,className:"img-fluid",alt:""})," Back"]})]}),e.jsxs("div",{className:"what-islam-row",children:[v?e.jsx(O,{}):a?.featuredImageUrl&&e.jsxs("div",{className:"what-islam-img",children:[e.jsx("img",{src:a?.featuredImageUrl,className:"img-fluid",alt:j}),B&&e.jsx("a",{className:"play-btn",onClick:s=>{s.preventDefault(),f(B)},children:e.jsx("img",{src:w,className:"img-fluid",alt:""})})]}),!v&&e.jsx("div",{className:"what-islam-content",children:p&&e.jsx("div",{dangerouslySetInnerHTML:{__html:p}})})]})]})}),b.length>0&&e.jsx("div",{className:"more-video-wrap",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"MORE VIDEOS LIKE THIS"}),e.jsx("div",{className:"video-slide",children:e.jsx(q,{...k,children:b.map((s,l)=>e.jsx("div",{className:"item",children:e.jsxs("div",{className:"single-box",style:{backgroundImage:`url("${s.image}")`},children:[e.jsx("img",{src:s.image,className:"img-fluid",alt:s.title,style:{display:"none"}}),e.jsxs("div",{className:"overlay",children:[e.jsx("h4",{children:s.title}),s.videoUrl&&e.jsx("a",{href:"#",className:"play-btn",tabIndex:0,onClick:r=>{r.preventDefault(),f(s.videoUrl)},children:e.jsx("img",{src:w,className:"img-fluid",alt:"Play"})})]})]})},l))})})]})}),e.jsx("div",{id:"quick-start-container"})]})}export{A as default};
