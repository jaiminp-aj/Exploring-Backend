import{u as L,a as U,r as d,j as e,S as w,b as C,f as T,g as F,c as k,d as E,e as P,h as _,i as R}from"./index-CLYoa9F8.js";import{S as V,p as z,B as W,s as l}from"./sliderImages-DTtcok_f.js";import{a as A,p as H}from"./angle-next-DKixHvgl.js";import{B as $}from"./BlogNotFound-8UydOXyo.js";const Y=({slides:o,slidesToShow:S=3,arrows:g=!0})=>{const{openVideo:v}=L(),b=U(),x=d.useRef(null),[y,j]=d.useState(()=>typeof window<"u"?document.documentElement.clientWidth:1920),M=t=>t<480?1:t<=600||t<992?2:S;d.useEffect(()=>{const t=()=>{const m=document.documentElement.clientWidth;j(m)};t();let s;const n=()=>{clearTimeout(s),s=setTimeout(()=>{t()},100)};return window.addEventListener("resize",n),()=>{clearTimeout(s),window.removeEventListener("resize",n)}},[]);const p=t=>{const{style:s,onClick:n}=t;return e.jsx("button",{type:"button",className:"slick-prev pull-left slick-arrow",style:{...s},onClick:n,"aria-label":"Previous slide",children:e.jsx("img",{src:H,alt:"Previous slide"})})},u=t=>{const{style:s,onClick:n}=t;return e.jsx("button",{type:"button",className:"slick-next pull-right slick-arrow",style:{...s},onClick:n,"aria-label":"Next slide",children:e.jsx("img",{src:A,alt:"Next slide"})})},f=M(y),r={dots:!1,infinite:!0,arrows:g,speed:300,slidesToShow:f,slidesToScroll:f,prevArrow:g?e.jsx(p,{}):void 0,nextArrow:g?e.jsx(u,{}):void 0,responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2,arrows:g}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,arrows:g}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,arrows:g}}]};return e.jsx("div",{className:"video-slide1",children:d.createElement(V,{ref:x,...r,key:`slider-${y<=480?"mobile":y<=600?"tablet-small":y<=992?"tablet":"desktop"}`},o.map((t,s)=>e.jsx("div",{className:"item",children:e.jsxs("div",{className:"single-box",style:{backgroundImage:`url("${t.image}")`,cursor:"pointer"},onClick:n=>{n.preventDefault(),n.stopPropagation(),t.contentType==="Blog Post"&&t.slug?b(`/blog/${t.slug}`):(t.contentType==="Video"&&t.videoUrl||t.videoUrl)&&v(t.videoUrl)},children:[e.jsx("img",{src:t.image,className:"img-fluid",alt:t.title,style:{display:"none"}}),e.jsxs("div",{className:"overlay",children:[e.jsx("h4",{children:t.title}),t.contentType==="Video"&&t.videoUrl&&e.jsx("a",{href:"#",className:"play-btn",tabIndex:0,onClick:n=>{n.preventDefault(),n.stopPropagation(),t.videoUrl&&v(t.videoUrl)},children:e.jsx("img",{src:z,className:"img-fluid",alt:"Play"})})]})]})},s)))})};function D(){return e.jsx("div",{className:"the-basics-row",children:[1,2,3,4,5,6].map(o=>e.jsx("div",{className:"item",children:e.jsx("div",{className:"single-box-loader",style:{position:"relative",overflow:"hidden"},children:e.jsx(w,{variant:"rectangular",style:{width:"100%",borderRadius:"0"}})})},o))})}function K(){const{language:o}=C(),[S,g]=d.useState([]),[v,b]=d.useState([]),[x,y]=d.useState(""),[j,M]=d.useState(!0);return d.useEffect(()=>{(async()=>{try{const u=await T(o,!1,!0),f=(s,n)=>{for(const m of s){if(m.linkUrl===n)return m;if(m.children&&m.children.length>0){const i=f(m.children,n);if(i)return i}}},r=f(u,"/"),t=r?._id;if(r?.pageContent){const s=F(r.pageContent,o);y(s||"")}if(t){const s=await k(o,!0,t);s.length>0?b(s):b([{desktopImage:l.bannerSlide,mobileImage:l.bannerSlideM,title:"My Life as <br /> a Muslim",subtitle:"Football icon Mo Salah",videoUrl:"https://youtu.be/ohSapg0LBiY"},{desktopImage:l.bannerBasicSlide,mobileImage:l.bannerBasicSlideM,title:"My Life as <br /> a Muslim",subtitle:"Football icon Mo Salah"}])}else{const s=await k(o,!0,void 0);s.length>0?b(s):b([{desktopImage:l.bannerSlide,mobileImage:l.bannerSlideM,title:"My Life as <br /> a Muslim",subtitle:"Football icon Mo Salah",videoUrl:"https://youtu.be/ohSapg0LBiY"},{desktopImage:l.bannerBasicSlide,mobileImage:l.bannerBasicSlideM,title:"My Life as <br /> a Muslim",subtitle:"Football icon Mo Salah"}])}}catch(u){console.error("Failed to load banners:",u),b([{desktopImage:l.bannerSlide,mobileImage:l.bannerSlideM,title:"My Life as <br /> a Muslim",subtitle:"Football icon Mo Salah",videoUrl:"https://youtu.be/ohSapg0LBiY"},{desktopImage:l.bannerBasicSlide,mobileImage:l.bannerBasicSlideM,title:"My Life as <br /> a Muslim",subtitle:"Football icon Mo Salah"}])}})()},[o]),d.useEffect(()=>{(async()=>{try{const u=await T(o,!0,!0),f=i=>{const a=[];return i.forEach(c=>{a.push(c),c.children&&c.children.length>0&&a.push(...f(c.children))}),a},r=f(u),t=async i=>{if(!i._id)return null;try{const a=await E(o,!0,i._id,void 0,!1,10);if(a.length===0)return null;const c=a.map(h=>({image:h.featuredImageUrl||l.basicsImg,title:_(h.title,o),videoUrl:h.videoUrl||"",contentType:h.contentType,slug:P(h.slug,o)}));return{categoryId:i._id,categoryTitle:R(i.menuTitle,o),slides:c}}catch(a){return console.error(`Failed to fetch blogs for category ${i._id}:`,a),null}},s=5,n=[];for(let i=0;i<r.length;i+=s){const c=r.slice(i,i+s).map(I=>t(I)),h=await Promise.all(c);n.push(...h)}const m=n.filter(i=>i!==null).sort((i,a)=>{const c=r.find(N=>N._id===i.categoryId),h=r.find(N=>N._id===a.categoryId),I=c?.order||0,B=h?.order||0;return I-B});g(m),M(!1)}catch(u){M(!1),console.error("Failed to load sliders:",u)}})()},[o]),e.jsxs(e.Fragment,{children:[e.jsx(W,{slides:v}),e.jsx("div",{className:"home-section basic-top",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"head",children:j?e.jsx(e.Fragment,{children:e.jsx(w,{})}):x?e.jsx("h2",{dangerouslySetInnerHTML:{__html:x}}):e.jsx("h2",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry."})})})}),j?e.jsx("div",{className:"container",children:e.jsx(D,{})}):S.length>0?S.map(p=>e.jsx("div",{className:"home-section-slides",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:p.categoryTitle}),e.jsx(Y,{slides:p.slides})]})},p.categoryId)):e.jsx("div",{className:"container",children:e.jsx($,{})}),e.jsx("div",{id:"quick-start-container"})]})}export{K as default};
